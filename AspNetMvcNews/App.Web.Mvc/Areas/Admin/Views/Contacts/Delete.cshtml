@model Contact

@{
	ViewData["Title"] = "Sil";
}

<div>
	<h4>İletişim Formu Bilgileri</h4>
	<hr />
	<dl class="row">
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Name)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Name)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Email)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Email)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Subject)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Subject)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Phone)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Phone)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.Message)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.Message)
		</dd>
		<dt class="col-sm-2">
			@Html.DisplayNameFor(model => model.CreatedAt)
		</dt>
		<dd class="col-sm-10">
			@Html.DisplayFor(model => model.CreatedAt)
		</dd>
	</dl>

	<form asp-action="Delete">
		<input type="hidden" asp-for="Id" />
		<input type="submit" value="Sil" class="btn btn-danger btn-delete" /> |
		<a asp-action="Index">Listeye Dön</a>
	</form>
</div>

@section Scripts {
	<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
	<script>
		$(document).ready(function () {
			$('.btn-delete').click(function (e) {
				e.preventDefault();
				swal({
					title: "Silmek istediğinize emin misiniz?",
					text: "Bu işlem geri alınamaz!",
					icon: "warning",
					buttons: {
						cancel: "İptal",
						confirm: "Tamam"
					},
					dangerMode: true,
				})
					.then((willDelete) => {
						if (willDelete) {
							$(this).closest('form').submit();
						}
					});
			});
		});

	</script>
}
